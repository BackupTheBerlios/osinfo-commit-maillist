<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Osinfo-commit] r700 - trunk/osinfo/html
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/osinfo-commit/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:osinfo-commit%40lists.berlios.de?Subject=Re%3A%20%5BOsinfo-commit%5D%20r700%20-%20trunk/osinfo/html&In-Reply-To=%3C200703120757.l2C7vUK3010894%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000088.html">
   <LINK REL="Next"  HREF="000089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Osinfo-commit] r700 - trunk/osinfo/html</H1>
    <B>lamikae at mail.berlios.de</B> 
    <A HREF="mailto:osinfo-commit%40lists.berlios.de?Subject=Re%3A%20%5BOsinfo-commit%5D%20r700%20-%20trunk/osinfo/html&In-Reply-To=%3C200703120757.l2C7vUK3010894%40sheep.berlios.de%3E"
       TITLE="[Osinfo-commit] r700 - trunk/osinfo/html">lamikae at mail.berlios.de
       </A><BR>
    <I>Mon Mar 12 08:57:30 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000088.html">[Osinfo-commit] r699 - trunk/osinfo/html
</A></li>
        <LI>Next message: <A HREF="000089.html">[Osinfo-commit] r701 - trunk/osinfo/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: lamikae
Date: 2007-03-12 08:57:29 +0100 (Mon, 12 Mar 2007)
New Revision: 700

Removed:
   trunk/osinfo/html/index3.php
Log:
p?\195?\164ivitys

Deleted: trunk/osinfo/html/index3.php
===================================================================
--- trunk/osinfo/html/index3.php	2007-03-12 07:55:07 UTC (rev 699)
+++ trunk/osinfo/html/index3.php	2007-03-12 07:57:29 UTC (rev 700)
@@ -1,439 +0,0 @@
-&lt;?php
-
-$index = new Index();
-
-$index-&gt;tulosta_alkukoodi(true);
-$index-&gt;nayta_sivuframe();
-$index-&gt;nayta_paaframe($_GET['target']);
-$index-&gt;tulosta_loppukoodi();
-
-class Index
-{
-	private $_DivResoluutiot = array(&quot;SivuFrame&quot; =&gt; array('10px', '10px', '20%', '500'),
-					&quot;P&#228;&#228;Frame&quot; =&gt; array('10px', '10px', '70%', '500'));
-	private $_xmlkansio = &quot;hosts&quot;;
-	private $_xmlparseri = &quot;xml-parseri.php&quot;;
-	private $_parseri;
-	private $_clientteja_rivilla = 3;
-
-	public function __construct()
-    	{
-		if(file_exists($this-&gt;_xmlparseri))
-		{
-			include($this-&gt;_xmlparseri);
-
-			$this-&gt;_parseri = new xmlparseri();
-		}
-		else print &quot;&lt;p class=\&quot;valitus\&quot;&gt;Cannot find file \&quot;&quot; . $this-&gt;_xmlparseri . &quot;\&quot;&lt;/p&gt;&quot;;
-	}
-
-	public function tulosta_alkukoodi($tyylit = true)
-	{
-		print &quot;&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Transitional//EN\&quot; \&quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\</A>&quot;&gt;\n\n&quot;;
-
-		print &quot;&lt;html&gt;\n&quot;;	
-		print &quot;&lt;head&gt;\n&quot;;	
-		print &quot;&lt;title&gt;OS info&lt;/title&gt;\n\n&quot;;
-
-		if($tyylit) $this-&gt;tulosta_tyyli();
-
-		print &quot;\n\n&lt;/head&gt;\n\n&quot;;
-		print &quot;&lt;body&gt;\n\n&quot;;
-	}
-
-	public function tulosta_loppukoodi()
-	{
-		print &quot;&lt;/body&gt;\n&quot;;
-		print &quot;&lt;/html&gt;&quot;;
-	}
-	
-	private function tulosta_tyyli()
-	{
-		$varit = array(222, 197, 148);
-		$varisyote = &quot;r=&quot; . $varit[0] . &quot;&amp;g=&quot; . $varit[1] . &quot;&amp;b=&quot; . $varit[2];
-
-		print &quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;xmltyyli.css\&quot; /&gt;&quot;;
-		print &quot;&lt;style type=\&quot;text/css\&quot;&gt;
-
-		body
-		{
-			background-color: #eddcbc;
-		}
-		
-		div.SivuFrame, div.PaaFrame
-		{ 
-			float: left;
-		}
-		
-		div.SivuFrameSisalto, div.PaaFrame
-		{
-			background-color: rgb(&quot; . $varit[0] . &quot;, &quot; . $varit[1] . &quot;, &quot; . $varit[2] . &quot;);
-		}
-
-		div.SivuFrame
-		{
-			margin-left: &quot; . $this-&gt;_DivResoluutiot[SivuFrame][0] . &quot;;
-			margin-top: &quot; . $this-&gt;_DivResoluutiot[SivuFrame][1] . &quot;;
-			margin-bottom: &quot; . $this-&gt;_DivResoluutiot[SivuFrame][1] . &quot;;
-			width: &quot; . $this-&gt;_DivResoluutiot[SivuFrame][2] . &quot;;
-			min-height: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][3] . &quot;;
-			min-width: 200;
-			height: auto;
-		}
-
-		div.SivuFrameSisalto
-		{
-			padding: 10px;
-		}
-
-		div.SivuFrameFade
-		{
-			background-image: url('fade.php?w=1&amp;h=150&amp;&quot; . $varisyote . &quot;');
-			background-repeat: repeat-x;
-			background-position: top;
-			height: 150px;
-		}
-
-		div.PaaFrame
-		{
-			border: 1px solid black;
-			padding: 5px;
-			padding: 0px 10px 10px 10px;
-			margin-left: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][0] . &quot;;
-			margin-top: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][1] . &quot;;
-			margin-bottom: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][1] . &quot;;
-			width: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][2] . &quot;;
-			min-height: &quot; . $this-&gt;_DivResoluutiot[P&#228;&#228;Frame][3] . &quot;;
-			min-width: 600;
-			height: auto;
-			clear: none;
-		}
-
-		p.valitus
-		{
-			color: red;
-		}
-
-		ul.hostit
-		{
-			padding: 0px;
-			padding-left: 10px;
-		}
-
-		li.kuvaus
-		{
-			font-size: 12px;
-		}
-
-		a:link
-		{
-			color: rgb(0,0,255);
-		}
-
-		a:visited
-		{
-			color: rgb(0,0,200);
-		}
-
-		&lt;/style&gt;&quot;;
-	}
-	
-	private function listaa_tiedostot($valikko = false)
-	{
-		if(file_exists($this-&gt;_xmlkansio))
-		{
-			$kansio = opendir($this-&gt;_xmlkansio);
-
-			$ul_avattu = false;
-
-			$xml_array = array();
-		
-			for($i=0; $tiedosto = readdir($kansio); $i++)
-			{
-				$p_array = explode(&quot;.&quot;, $tiedosto);
-				$paate = $p_array[sizeof($p_array)-1];
-		
-				if($i &gt; 1 &amp;&amp; ($paate == &quot;xml&quot;))
-				{
-					$this-&gt;_parseri-&gt;parsi_tiedosto($this-&gt;_xmlkansio . &quot;/&quot; . $tiedosto);
-
-					if($valikko)
-					{
-					$temp_array = array(&quot;tiedosto&quot; =&gt; $tiedosto,
-						&quot;hostname&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;hostname&quot;),
-						&quot;domain&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;domain&quot;),
-						&quot;profile&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;profile&quot;),
-						&quot;os&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;os&quot;),
-						&quot;cpu&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;cpu&quot;));
-					}
-					else
-					{
-					$temp_array = array(&quot;tiedosto&quot; =&gt; $tiedosto,
-						&quot;hostname&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;hostname&quot;),
-						&quot;domain&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;domain&quot;),
-						&quot;profile&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;profile&quot;),
-						&quot;os&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;os&quot;),
-						&quot;cpu&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;computer&quot;, &quot;cpu&quot;),
-						&quot;script_version&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;script&quot;, &quot;version&quot;),
-						&quot;ram&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;ram&quot;, &quot;Physical RAM&quot;),
-						&quot;drive&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;drive&quot;, &quot;SATA/SCSI drive&quot;),
-						&quot;device&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;iface&quot;, &quot;Device&quot;),
-						&quot;ip&quot; =&gt; $this-&gt;_parseri-&gt;hae_tieto(&quot;iface&quot;, &quot;IPv4&quot;)
-						);
-					}
-
-					array_push($xml_array, $temp_array);
-
-				}
-			}
-
-			$domainit = $this-&gt;lajittele_array($xml_array, &quot;domain&quot;);
-			$profilet = array();
-
-			foreach($domainit as $domain =&gt; $arvo)
-			{
-				$temp_array = array($domain =&gt; $this-&gt;lajittele_array($arvo, &quot;profile&quot;));
-				$this-&gt;array_lisaa_samaan($profilet, $temp_array);
-			}
-
-			ksort($profilet);
-
-			//print &quot;&lt;pre&gt;&quot;;
-			//print_r($domainit);
-			//print_r($profilet);
-			//print &quot;&lt;/pre&gt;&quot;;
-			
-			if($valikko)
-			{
-				foreach($profilet as $domain =&gt; $profiles)
-				{
-					ksort($profiles);
-					print &quot;&lt;ul class=\&quot;hostit\&quot;&gt;&lt;li&gt;Domain: &lt;i&gt;&quot; . $domain . &quot;&lt;/i&gt;&quot;;
-	
-					foreach($profiles as $profile =&gt; $hostnames)
-					{
-						print &quot;&lt;ul class=\&quot;hostit\&quot;&gt;&lt;li&gt;Profile: &lt;i&gt;&quot; . $profile . 
-							&quot;&lt;/i&gt;&lt;ul class=\&quot;hostit\&quot;&gt;&quot;;
-	
-						foreach($hostnames as $hostname =&gt; $arvot)
-						{
-							print &quot;&lt;li&gt;&lt;b&gt;&lt;a href=\&quot;?target=&quot;. $arvot[&quot;tiedosto&quot;] . &quot;\&quot;&gt;&quot; .
-								$arvot[&quot;hostname&quot;] . &quot;&lt;/a&gt;&lt;/b&gt;&lt;ul class=\&quot;hostit\&quot;&gt;
-								&lt;li class=\&quot;kuvaus\&quot;&gt;&quot; . $arvot[&quot;os&quot;] . &quot;&lt;/li&gt;
-								&lt;li class=\&quot;kuvaus\&quot;&gt;&quot; . $arvot[&quot;cpu&quot;] . &quot;&lt;/li&gt;
-								&lt;/ul&gt;&lt;/li&gt;&quot;;
-	
-						}
-	
-						print &quot;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&quot;;
-					}
-	
-					print &quot;&lt;/li&gt;&lt;/ul&gt;&quot;;
-				}
-			}
-			else
-			{
-				foreach($profilet as $domain =&gt; $profiles)
-				{
-					ksort($profiles);
-					print &quot;&lt;div class=\&quot;kentta\&quot;&gt;&lt;h3&gt;Domain: &lt;i&gt;&quot; . $domain . &quot;&lt;/i&gt;&quot;;
-	
-					foreach($profiles as $profile =&gt; $hostnames)
-					{
-						print &quot;&lt;div class=\&quot;kentta\&quot;&gt;&lt;h3&gt;Profile: &lt;i&gt;&quot; . $profile . 
-							&quot;&lt;/i&gt;&lt;table class=\&quot;attribuutti\&quot; cellspacing=\&quot;10\&quot;&gt;&quot;;
-
-						$laskuri = 0;
-	
-						foreach($hostnames as $hostname =&gt; $arvot)
-						{
-							if($laskuri == 0) 
-								print &quot;&lt;tr&gt;&quot;;
-							elseif($laskuri % $this-&gt;_clientteja_rivilla == 0)
- 								print &quot;&lt;/tr&gt;&lt;tr&gt;&quot;;
-
-							print &quot;&lt;td valign=\&quot;top\&quot; class=\&quot;attribuutti_td\&quot; style=\&quot;width: &quot; . round(100 / $this-&gt;_clientteja_rivilla, 1) . &quot;%\&quot;&gt;&quot;;
-
-							print &quot;&lt;b&gt;&lt;a href=\&quot;?target=&quot;. $arvot[&quot;tiedosto&quot;] . &quot;\&quot;&gt;&quot; .
-								$arvot[&quot;hostname&quot;] . &quot;&lt;/a&gt;&lt;/b&gt;&lt;ul class=\&quot;hostit\&quot;&gt;&quot;;
-
-							foreach($arvot as $tyyppi =&gt; $arvo)
-							{
-								if($tyyppi != &quot;hostname&quot; &amp;&amp; $tyyppi != &quot;domain&quot; &amp;&amp; $tyyppi != &quot;profile&quot; &amp;&amp; $tyyppi != &quot;tiedosto&quot; &amp;&amp; $arvo != &quot;&quot;)
-								{
-									print &quot;&lt;li class=\&quot;kuvaus\&quot;&gt;&quot; . $arvo . &quot;&lt;/li&gt;&quot;;
-								}
-							}
-
-							print &quot;&lt;/ul&gt;&lt;/td&gt;&quot;;
-
-							$laskuri++;
-						}
-
-						while($laskuri % $this-&gt;_clientteja_rivilla != 0)
-						{
-							print &quot;&lt;td&gt;&nbsp;&lt;/td&gt;&quot;;
-							$laskuri++;
-						}
-	
-						print &quot;&lt;/table&gt;&lt;/h3&gt;&lt;/div&gt;&quot;;
-					}
-	
-					print &quot;&lt;/h3&gt;&lt;/div&gt;&quot;;
-				}
-			}
-		}
-		else print &quot;&lt;p class=\&quot;valitus\&quot;&gt;Directory \&quot;&quot; . $this-&gt;_xmlkansio . &quot;\&quot; does not exist&lt;/p&gt;&quot;;
-	}
-
-	private function lajittele_array($array, $nimi)
-	{
-		$nimet = array(&quot; &quot;);
-		$nimet_lajiteltuna = array();
-
-		foreach($array as $avain =&gt; $arvo)
-		{
-			if(is_array($arvo))
-			{
-				$loytyi = false;
-
-				for($i=0; $i &lt; sizeof($nimet); $i++)
-					if($arvo[$nimi] == $nimet[$i]) $loytyi = true;
-
-				if(!$loytyi)
-				{
-					$temp_array = array($arvo[$nimi] =&gt; array());
-					$this-&gt;array_lisaa_samaan($nimet_lajiteltuna, $temp_array);
-					array_push($nimet, $arvo[$nimi]);
-				}
-				
-				array_push($nimet_lajiteltuna[$arvo[$nimi]], $arvo);
-			}
-		}
-
-		return $nimet_lajiteltuna;
-	}
-
-	private function array_lisaa_samaan(&amp;$array) 
-	{
-		$argumentit = func_get_args();
-	
-		foreach($argumentit as $argumentti) 
-		{
-			if(is_array($argumentti)) 
-			{
-				foreach($argumentti as $avain =&gt; $arvo) 
-				{
-					$array[$avain] = $arvo;
-					$paluuarvo++;
-				}
-			}
-			else $array[$argumentti] = &quot;&quot;;
-		}
-	
-		return $paluuarvo;
-	}
-
-	private function hae_viimeksi_paivitetty()
-	{
-		if(file_exists($this-&gt;_xmlkansio))
-		{
-			$kansio = opendir($this-&gt;_xmlkansio);
-	
-			$suurin = 0;
-		
-			for($i=0; $tiedosto = readdir($kansio); $i++)
-			{
-				$p_array = explode(&quot;.&quot;, $tiedosto);
-				$paate = $p_array[sizeof($p_array)-1];
-		
-				if($i &gt; 1 &amp;&amp; ($paate == &quot;xml&quot;))
-				{
-					$aika = filemtime($this-&gt;_xmlkansio . &quot;/&quot; . $tiedosto);
-	
-					if($aika &gt; $suurin)
-						$suurin = $aika;
-				}
-			}
-			
-			return $suurin;
-		}
-	}
-	
-	public function nayta_sivuframe()
-	{
-		print &quot;&lt;div class=\&quot;SivuFrame\&quot;&gt;&quot;;
-		print &quot;&lt;div class=\&quot;SivuFrameSisalto\&quot;&gt;&quot;;
-
-		print &quot;&lt;h3&gt;OS info&lt;/h3&gt;
-			&lt;p&gt;&lt;a href=\&quot;&quot; . $_SERVER[&quot;SCRIPT_NAME&quot;] . &quot;\&quot;&gt;index view&lt;/a&gt;&lt;/p&gt;
-			&lt;hr /&gt;&quot;;
-
-		$this-&gt;listaa_tiedostot(true);
-	
-		print &quot;&lt;hr /&gt;&quot;;
-
-		print &quot;&lt;p&gt;Last update:&lt;/p&gt;&quot;;
-
-		$viimeksi_paivitetty = $this-&gt;hae_viimeksi_paivitetty();
-
-		if($viimeksi_paivitetty &gt; 0)
-			print &quot;&lt;p&gt;&lt;i&gt;&quot; . date(&quot;F d Y H:i:s&quot;, $viimeksi_paivitetty) . &quot;&lt;/i&gt;&lt;/p&gt;&quot;;
-
-		//include(&quot;sidebar.html&quot;);
-	
-		print &quot;&lt;/div&gt;&quot;;
-
-		print &quot;&lt;div class=\&quot;SivuFrameFade\&quot;&gt;&lt;/div&gt;&quot;;
-
-		print &quot;&lt;/div&gt;&quot;;
-	}
-	
-	public function nayta_paaframe($sivu = &quot;&quot;)
-	{
-		print &quot;&lt;div class=\&quot;PaaFrame\&quot;&gt;&quot;;
-		
-		if($sivu != &quot;&quot;)
-		{
-			if(file_exists($this-&gt;_xmlkansio . &quot;/&quot; . $sivu))
-			{
-				/*
-				$parametrit = $_POST['osinfo'];
-			
-				print &quot;&lt;p&gt;
-					&lt;form action=\&quot;&quot; . $PHP_SELF . &quot;\&quot; method=\&quot;post\&quot;&gt;
-					Parameters: &lt;input type=\&quot;text\&quot; name=\&quot;osinfo\&quot; value=\&quot;&quot; . $parametrit . &quot;\&quot; /&gt;
-						&lt;input type=\&quot;submit\&quot; value=\&quot;ok\&quot; /&gt;
-					&lt;/form&gt;
-					&lt;/p&gt;&quot;;
-				*/
-	
-				//print &quot;&lt;pre&gt;&quot;;
-
-				$this-&gt;_parseri-&gt;parsi_tiedosto($this-&gt;_xmlkansio . &quot;/&quot; . $sivu);
-				
-				//$this-&gt;_parseri-&gt;nayta_tietotaulu();
-				$this-&gt;_parseri-&gt;hae_arvot(&quot;osinfo&quot;);
-
-				//print &quot;&lt;/pre&gt;&quot;;
-			}
-			else print &quot;&lt;p class=\&quot;valitus\&quot;&gt;File \&quot;&quot; . $sivu . &quot;\&quot; not found&lt;/p&gt;&quot;;
-
-		}
-		else
-		{
-			$this-&gt;nayta_index_view();
-		}
-
-		print &quot;&lt;/div&gt;&quot;;
-	}
-
-	private function nayta_index_view()
-	{
-		print &quot;&lt;h3&gt;index view&lt;/h3&gt;&quot;;
-
-		$this-&gt;listaa_tiedostot(false);
-	}
-}
-
-?&gt; 
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000088.html">[Osinfo-commit] r699 - trunk/osinfo/html
</A></li>
	<LI>Next message: <A HREF="000089.html">[Osinfo-commit] r701 - trunk/osinfo/html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/osinfo-commit">More information about the Osinfo-commit
mailing list</a><br>
</body></html>
